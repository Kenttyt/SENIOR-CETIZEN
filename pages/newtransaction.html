<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../css/chatbot.css">
  
  <title>Senior Citizen</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    :root {
      --primary-color: #0E4BF1;
      --panel-color: #FFF;
      --text-color: #000;
      --black-light-color: #000;
      --border-color: #e6e5e5;
      --toggle-color: #DDD;
      --box1-color: #4DA3FF;
      --box2-color: #FFE6AC;
      --box3-color: #E7D1FC;
      --title-icon-color: #fff;
      --tran-05: all 0.5s ease;
      --tran-03: all 0.3s ease;
    }

    body {
      min-height: 100vh;
      background-color: var(--primary-color);
    }

    body.dark {
      --primary-color: #3A3B3C;
      --panel-color: #242526;
      --text-color: #CCC;
      --black-light-color: #CCC;
      --border-color: #4D4C4C;
      --toggle-color: #FFF;
      --box1-color: #3A3B3C;
      --box2-color: #3A3B3C;
      --box3-color: #3A3B3C;
      --title-icon-color: #CCC;
    }

    .dashboard {
      position: relative;
      background-color: var(--panel-color);
      min-height: 100vh;
      padding: 10px 14px;
      
    }

   .top {
  position: sticky;
  top: 0;
  z-index: 1000;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: var(--panel-color, white);
  padding: 10px 14px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  width: 100%;
  
}

    .close-btn {
      margin-right:10px;
      padding: 10px 20px;
      background-color: #f44336;
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s;
    }

    .close-btn:hover {
      background-color: #d32f2f;
    }

    .search-box {
    margin-top:10px;
      position: relative;
      height: 45px;
      width: 100%;
      max-width: 100%;
    }

    .search-box input {
      width: 100%;
      height: 100%;
      padding: 0 25px 0 50px;
      border: 1px solid var(--border-color);
      border-radius: 5px;
      background-color: var(--panel-color);
      color: var(--text-color);
      font-size: 15px;
      outline: none;
    }

    .search-box i {
      position: absolute;
      top: 50%;
      left: 15px;
      transform: translateY(-50%);
      font-size: 22px;
      color: var(--black-light-color);
    }

    .overview .boxes {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 20px;
    }

    .box {
      flex: 1 1 250px;
      padding: 20px;
      border-radius: 12px;
      background: var(--box1-color);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      text-align: center;
      transition: transform 0.3s;
    }

    .box:hover {
      transform: translateY(-5px);
    }

 

    .container {
      background: white;
      padding: 60px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      text-align: center;
      max-width: 400px;
      margin: 30px auto;
    }

 
    .box .number {
  display: block;
  font-size: 32px;
  font-weight: bold;
  color: #333;
}

hr {
  border: none;
  border-top: 3px solid black;
  margin-top:10px;
  margin-bottom:6px;

}

    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 25px;
      border-radius: 8px;
      background-color: #fff;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      z-index: 1200;
      display: flex;
      align-items: center;
      gap: 12px;
      transform: translateX(120%);
      transition: transform 0.3s ease;
      max-width: 300px;
    }

    .notification.error {
      background-color: #fde8e8;
      border-left: 4px solid #dc3545;
      color: #dc3545;
    }

    .notification.success {
      background-color: #e8f5e9;
      border-left: 4px solid #4caf50;
      color: #2e7d32;
    }

    .notification.show {
      transform: translateX(0);
    }

    .notification i {
      font-size: 20px;
    }

    .delete-modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }

    .delete-modal {
      background-color: white;
      border-radius: 12px;
      width: 90%;
      max-width: 400px;
      padding: 25px;
      text-align: center;
      animation: modalFadeIn 0.3s ease;
    }
    
    @media screen and (max-width: 480px) {
      .delete-modal {
        padding: 20px 15px;
      }
      
      .delete-modal .btn-group {
        flex-direction: column;
        gap: 10px;
      }
      
      .delete-modal .btn-group button {
        width: 100%;
      }
    }

    .delete-modal h3 {
      color: #dc3545;
      margin-bottom: 15px;
      font-size: 24px;
    }

    .delete-modal p {
      color: #666;
      margin-bottom: 25px;
      font-size: 16px;
    }

    .delete-modal .btn-group {
      display: flex;
      justify-content: center;
      gap: 15px;
    }

    .delete-modal .btn {
      min-width: 120px;
    }

    .delete-btn-confirm {
      background-color: #dc3545;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .delete-btn-confirm:hover {
      background-color: #c82333;
    }

    .delete-btn-cancel {
      background-color: #6c757d;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .delete-btn-cancel:hover {
      background-color: #5a6268;
    }

    @keyframes modalFadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .modal {
      margin-top:60px;
      display: none;
      position: fixed;
      z-index: 999;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.4);
    }

    .modal-content {
      background-color: #fefefe;
      margin: 2% auto;
      padding: 30px;
      border: 1px solid #888;
      width: 90%;
      max-width: 480px;
      border-radius: 10px;
      max-height: 80vh;
      overflow-y: auto;
    }

    input[type="number"], input[type="date"] {
      width: 100%;
      padding: 8px;
      margin: 6px 0 12px 0;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    label {
      display: block;
      margin-top: 10px;
    }

    .withdraw-btn {
      width: 100%;
      padding: 10px;
      background-color: #034c73;
      color: white;
      border: none;
      border-radius: 5px;
      margin-top: 15px;
      font-weight: bold;
      cursor: pointer;
    }

    .withdraw-btn:hover {
      background-color: #026aa7;
    }
    
    /* Modal Alert Styles */
    .modal-alert {
      background-color: #f8d7da;
      color: #721c24;
      padding: 10px;
      border-radius: 5px;
      margin: 10px 0;
      text-align: center;
      display: none;
    }

    .success-alert {
      background-color: #d4edda;
      color: #155724;
      padding: 10px;
      border-radius: 5px;
      margin: 10px 0;
      text-align: center;
      display: none;
    }

    /* Confirmation Modal */
    .confirm-modal {
      display: none;
      position: fixed;
      z-index: 1001;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.6);
    }

    .confirm-content {
      background-color: #fefefe;
      margin: 15% auto;
      padding: 20px;
      border-radius: 10px;
      width: 90%;
      max-width: 300px;
      text-align: center;
    }

    .btn-group {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }

    .confirm-btn, .cancel-btn {
      padding: 8px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .confirm-btn {
      background-color: #034c73;
      color: white;
    }

    .cancel-btn {
      background-color: #f44336;
      color: white;
    }
    
    .delete-modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }

    .delete-modal {
      background-color: white;
      border-radius: 12px;
      width: 90%;
      max-width: 400px;
      padding: 25px;
      text-align: center;
      animation: modalFadeIn 0.3s ease;
    }

    /* Responsive modal styles */
    @media screen and (max-width: 768px) {
      .modal {
        margin-top: 40px;
      }
      
      .modal-content {
        padding: 20px;
        margin: 5% auto;
        width: 95%;
      }
      
      .confirm-content {
        margin: 25% auto;
      }
    }
    
    @media screen and (max-width: 480px) {
      .modal-content {
        padding: 15px;
      }
      
      .delete-modal {
        padding: 20px 15px;
      }
      
      .btn-group {
        flex-direction: column;
        gap: 10px;
      }
      
      .btn-group button {
        width: 100%;
        margin-bottom: 5px;
      }
    }

    /* Transaction Info Box */
    .transaction-info-box {
      background: #ffeaa7;
      padding: 20px;
      margin: 20px auto;
      width: 100%;
      max-width: 300px;
      text-align: center;
      border-radius: 12px;
    }
    
    /* Modal Close Button */
    .modal-close {
      cursor: pointer;
      float: right;
      font-size: 28px;
      font-weight: bold;
    }
    
    @media screen and (max-width: 480px) {
      .modal-close {
        font-size: 32px;
        padding: 5px 10px;
      }
      
      .transaction-info-box {
        padding: 15px 10px;
        font-size: 14px;
      }
      
      .responsive-date {
        font-size: 14px;
      }
      
      /* Larger tap targets for mobile */
      input, button, select {
        min-height: 44px;
      }
    }

  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>

<body>
  <section class="dashboard">
  <div class="top">
    <button class="close-btn" id="cancel-btn">Back</button>
  <script>
  document.getElementById('cancel-btn').addEventListener('click', function() {
    window.history.back();
  });
</script>
  </div>

   <style>
    .modal {
      margin-top:60px;
      display: none;
      position: fixed;
      z-index: 999;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.4);
    }

    .modal-content {
      background-color: #fefefe;
      margin: 2% auto;
      padding: 30px;
      border: 1px solid #888;
      width: 90%;
      max-width: 480px;
      border-radius: 10px;
      max-height: 80vh;
      overflow-y: auto;
    }
    
    /* Responsive modal styles */
    @media screen and (max-width: 768px) {
      .modal {
        margin-top: 40px;
      }
      
      .modal-content {
        padding: 20px;
        margin: 5% auto;
        width: 95%;
      }
    }
    
    @media screen and (max-width: 480px) {
      .modal-content {
        padding: 15px;
      }
    }

    input[type="number"], input[type="date"] {
      width: 100%;
      padding: 8px;
      margin: 6px 0 12px 0;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    label {
      display: block;
      margin-top: 10px;
    }

    .withdraw-btn {
      width: 100%;
      padding: 10px;
      background-color: #034c73;
      color: white;
      border: none;
      border-radius: 5px;
      margin-top: 15px;
      font-weight: bold;
      cursor: pointer;
    }

    .withdraw-btn:hover {
      background-color: #026aa7;
    }
    
    /* Modal Alert Styles */
    .modal-alert {
      background-color: #f8d7da;
      color: #721c24;
      padding: 10px;
      border-radius: 5px;
      margin: 10px 0;
      text-align: center;
      display: none;
    }

    .success-alert {
      background-color: #d4edda;
      color: #155724;
      padding: 10px;
      border-radius: 5px;
      margin: 10px 0;
      text-align: center;
      display: none;
    }

    /* Confirmation Modal */
    .confirm-modal {
      display: none;
      position: fixed;
      z-index: 1001;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.6);
    }

    .confirm-content {
      background-color: #fefefe;
      margin: 15% auto;
      padding: 20px;
      border-radius: 10px;
      width: 90%;
      max-width: 300px;
      text-align: center;
    }

    .btn-group {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }

    .confirm-btn, .cancel-btn {
      padding: 8px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .confirm-btn {
      background-color: #034c73;
      color: white;
    }

    .cancel-btn {
      background-color: #f44336;
      color: white;
    }
    
  </style>
</head>
<body>

<div class="dash-content">
  <div class="overview">
    <div class="boxes">
      <div class="box box1"  style="background-color: #023854;" onclick="openModal('modalCash') " >  
            <span class="text" style="color :#fff; font-size:36px; font-weight:500; ">Cash On Hand</span>  
            <span class="number" id="cashDisplay" style="color :#fff;" >â‚±6,999</span>  
          </div>  
          <div class="box box2" style="background-color: #023854;" onclick="openModal('modalBank') ">  
            <span class="text" style="color :#fff; font-size:36px; font-weight:500;">Bank Fund</span>  
            <span class="number" id="bankDisplay" style="color :#fff;  ">â‚±5,000</span>  
          </div>  
    </div>
  </div>
</div>

<!-- Withdrawal Modal -->
<div id="modalCash" class="modal">
  <div class="modal-content">
    <span onclick="closeModal('modalCash')" class="modal-close">&times;</span>
    <h3>Bank Fund to Cash on Hand</h3>
    <div class="transaction-info-box">
      <p><strong>Bank Fund:</strong> â‚±<span id="modalBankFund">6999</span></p>
      <p><strong>â€“ Withdrawn:</strong> â‚±<span id="withdrawn">0</span></p>
      <hr>
      <p><strong>Cash on Hand:</strong> â‚±<span id="modalCashOnHand">5000</span></p>
    </div>
    <!-- Alert inside the modal -->
    <div id="withdrawalAlertBox" class="modal-alert"></div>
    <div id="withdrawalSuccessBox" class="success-alert"></div>
    
    <label>Enter Amount to Withdraw:</label>
    <input type="number" id="withdrawInput" value="0" oninput="updateWithdrawal()" />
    <label>Date Issued:</label>
    <input type="date" id="dateIssued1" class="responsive-date" required>
    <button class="withdraw-btn" onclick="confirmWithdraw()">Withdraw</button>
  </div>
</div>

<!-- Deposit Modal -->
<div id="modalBank" class="modal">
  <div class="modal-content">
    <span onclick="closeModal('modalBank')" class="modal-close">&times;</span>
    <h3>Cash on Hand to Bank Fund</h3>
    <div class="transaction-info-box">
      <p><strong>Cash on Hand:</strong> â‚±<span id="modalDepositCash">5000</span></p>
      <p><strong>+ Deposit:</strong> â‚±<span id="depositAmount">0</span></p>
      <hr>
      <p><strong>Bank Fund:</strong> â‚±<span id="modalDepositBank">6999</span></p>
    </div>
    <!-- Alert inside the modal -->
    <div id="depositAlertBox" class="modal-alert"></div>
    <div id="depositSuccessBox" class="success-alert"></div>
    
    <label>Enter Amount to Deposit:</label>
    <input type="number" id="depositInput" value="0" oninput="updateDeposit()" />
    <label>Date Issued:</label>
    <input type="date" id="depositDate" class="responsive-date" value="2024-02-01" />
    <button class="withdraw-btn" onclick="confirmDeposit()">Deposit</button>
  </div>
</div>

<!-- Confirmation Modal -->
<div id="confirmationModal" class="confirm-modal">
  <div class="confirm-content">
    <h3>Confirm Transaction</h3>
    <p id="confirmationMessage"></p>
    <div class="btn-group">
      <button class="cancel-btn" onclick="hideConfirmation()">Cancel</button>
      <button id="confirmActionBtn" class="confirm-btn">Confirm</button>
    </div>
  </div>
</div>

<div class="delete-modal-overlay" id="deleteModalOverlay">
  <div class="delete-modal">
    <h3>Delete Transaction</h3>
    <p>Are you sure you want to delete this transaction? This action cannot be undone.</p>
    <div class="btn-group">
      <button class="delete-btn-cancel" id="deleteCancelBtn">Cancel</button>
      <button class="delete-btn-confirm" id="deleteConfirmBtn">Delete</button>
    </div>
  </div>
</div>

<script>
  let bankFund = 5000;
  let cashOnHand = 6999;
  let transactionType = '';
  let deleteIndex = null;

  function openModal(id) {
    document.getElementById(id).style.display = 'block';
    updateUI();

    // Reset alert messages
    hideModalAlerts();
  }

  function closeModal(id) {
    document.getElementById(id).style.display = 'none';
  }

  function updateWithdrawal() {
    let amount = parseFloat(document.getElementById('withdrawInput').value) || 0;
    if (amount > bankFund) {
      amount = bankFund;
      document.getElementById('withdrawInput').value = bankFund;
    }
    document.getElementById('withdrawn').innerText = amount.toLocaleString();
    document.getElementById('modalCashOnHand').innerText = (cashOnHand + amount).toLocaleString();
    
    // Hide the alert when the user updates the input
    hideModalAlerts();
  }

  function updateDeposit() {
    let amount = parseFloat(document.getElementById('depositInput').value) || 0;
    if (amount > cashOnHand) {
      amount = cashOnHand;
      document.getElementById('depositInput').value = cashOnHand;
    }
    document.getElementById('depositAmount').innerText = amount.toLocaleString();
    document.getElementById('modalDepositBank').innerText = (bankFund + amount).toLocaleString();
    
    // Hide the alert when the user updates the input
    hideModalAlerts();
  }

  function showModalAlert(message, type) {
    if (type === 'withdraw') {
      const alertBox = document.getElementById('withdrawalAlertBox');
      alertBox.innerText = message;
      alertBox.style.display = 'block';
      
      // Auto hide after 3 seconds
      setTimeout(() => {
        alertBox.style.display = 'none';
      }, 3000);
    } else if (type === 'deposit') {
      const alertBox = document.getElementById('depositAlertBox');
      alertBox.innerText = message;
      alertBox.style.display = 'block';
      
      // Auto hide after 3 seconds
      setTimeout(() => {
        alertBox.style.display = 'none';
      }, 3000);
    }
  }

  function showSuccessAlert(message, type) {
    if (type === 'withdraw') {
      const successBox = document.getElementById('withdrawalSuccessBox');
      successBox.innerText = message;
      successBox.style.display = 'block';
      
      // Auto hide after 3 seconds
      setTimeout(() => {
        successBox.style.display = 'none';
      }, 3000);
    } else if (type === 'deposit') {
      const successBox = document.getElementById('depositSuccessBox');
      successBox.innerText = message;
      successBox.style.display = 'block';
      
      // Auto hide after 3 seconds
      setTimeout(() => {
        successBox.style.display = 'none';
      }, 3000);
    }
  }

  function hideModalAlerts() {
    document.getElementById('withdrawalAlertBox').style.display = 'none';
    document.getElementById('depositAlertBox').style.display = 'none';
    document.getElementById('withdrawalSuccessBox').style.display = 'none';
    document.getElementById('depositSuccessBox').style.display = 'none';
  }

  function confirmWithdraw() {
    const amount = parseFloat(document.getElementById('withdrawInput').value) || 0;
    if (amount <= 0) {
      showModalAlert("Please enter an amount greater than 0.", 'withdraw');
      return;
    }
    
    if (amount > bankFund) {
      showModalAlert("Insufficient funds in your bank account.", 'withdraw');
      return;
    }
    
    // Show confirmation modal
    document.getElementById('confirmationMessage').innerText = `Are you sure you want to withdraw â‚±${amount.toLocaleString()}?`;
    document.getElementById('confirmActionBtn').onclick = function() {
      processWithdrawal(amount);
    };
    document.getElementById('confirmationModal').style.display = 'block';
    transactionType = 'withdraw';
  }

  function confirmDeposit() {
    const amount = parseFloat(document.getElementById('depositInput').value) || 0;
    if (amount <= 0) {
      showModalAlert("Please enter an amount greater than 0.", 'deposit');
      return;
    }
    
    if (amount > cashOnHand) {
      showModalAlert("Insufficient cash on hand.", 'deposit');
      return;
    }
    
    // Show confirmation modal
    document.getElementById('confirmationMessage').innerText = `Are you sure you want to deposit â‚±${amount.toLocaleString()}?`;
    document.getElementById('confirmActionBtn').onclick = function() {
      processDeposit(amount);
    };
    document.getElementById('confirmationModal').style.display = 'block';
    transactionType = 'deposit';
  }

  function processWithdrawal(amount) {
    bankFund -= amount;
    cashOnHand += amount;
    updateUI();
    hideConfirmation();
    showSuccessAlert(`Successfully withdrawn â‚±${amount.toLocaleString()}.`, 'withdraw');
    
    // Close the modal after a delay
    setTimeout(() => {
      closeModal('modalCash');
    }, 2000);
  }

  function processDeposit(amount) {
    bankFund += amount;
    cashOnHand -= amount;
    updateUI();
    hideConfirmation();
    showSuccessAlert(`Successfully deposited â‚±${amount.toLocaleString()}.`, 'deposit');
    
    // Close the modal after a delay
    setTimeout(() => {
      closeModal('modalBank');
    }, 2000);
  }

  function hideConfirmation() {
    document.getElementById('confirmationModal').style.display = 'none';
  }

  function updateUI() {
    document.getElementById('bankDisplay').innerText = `â‚±${bankFund.toLocaleString()}`;
    document.getElementById('cashDisplay').innerText = `â‚±${cashOnHand.toLocaleString()}`;

    document.getElementById('modalBankFund').innerText = bankFund.toLocaleString();
    document.getElementById('modalCashOnHand').innerText = cashOnHand.toLocaleString();

    document.getElementById('modalDepositCash').innerText = cashOnHand.toLocaleString();
    document.getElementById('modalDepositBank').innerText = bankFund.toLocaleString();

    document.getElementById('withdrawInput').value = 0;
    document.getElementById('depositInput').value = 0;
    document.getElementById('withdrawn').innerText = '0';
    document.getElementById('depositAmount').innerText = '0';
  }

  function confirmDelete(index) {
    deleteIndex = index;
    document.getElementById('deleteModalOverlay').style.display = 'flex';
  }

  function deleteTransaction(index) {
    confirmDelete(index);
  }

  // Add these event listeners after the existing ones
  document.getElementById('deleteCancelBtn').addEventListener('click', () => {
    document.getElementById('deleteModalOverlay').style.display = 'none';
    deleteIndex = null;
  });

  document.getElementById('deleteConfirmBtn').addEventListener('click', () => {
    if (deleteIndex !== null) {
      transactions.splice(deleteIndex, 1);
      localStorage.setItem('transactions', JSON.stringify(transactions));
      loadTransactions();
      updateSummary();
      document.getElementById('deleteModalOverlay').style.display = 'none';
      deleteIndex = null;
      showNotification('Transaction deleted successfully', 'error');
    }
  });

  document.getElementById('deleteModalOverlay').addEventListener('click', (event) => {
    if (event.target === document.getElementById('deleteModalOverlay')) {
      document.getElementById('deleteModalOverlay').style.display = 'none';
      deleteIndex = null;
    }
  });
</script>


     <hr>
       

<style>
  /* Enhanced styling for better visual appeal */
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #333;
  }
  
  h2 {
    text-align: center;
    margin-bottom: 20px;
    color: #003366;
  }
  
  .tabs {
    display: flex;
    margin-bottom: 10px;
    border-radius: 6px;
    overflow: hidden;
  }
  
  .tab {
    flex: 1;
    padding: 12px;
    border: none;
    background: #eee;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
  }
  
  .tab.active {
    background: #d9edc2;
    border-bottom: 3px solid #4CAF50;
  }
  
  #expenseTab.active {
    background: #fddede;
    border-bottom: 3px solid #f44336;
  }
  
  form {
    display: flex;
    flex-direction: column;
  }
  
  select, input[type="number"], input[type="text"], input[type="date"] {
    padding: 12px;
    margin: 8px 0;
    border-radius: 4px;
    border: 1px solid #ccc;
    transition: border-color 0.3s ease;
  }
  
  select:focus, input:focus {
    border-color: #003366;
    outline: none;
    box-shadow: 0 0 5px rgba(0,51,102,0.2);
  }
  
  .input-group {
    display: flex;
    align-items: center;
  }
  
  .currency-symbol {
    background: #eee;
    padding: 12px;
    border: 1px solid #ccc;
    border-right: none;
    border-radius: 4px 0 0 4px;
  }
  
  .input-group input {
    flex: 1;
    border-radius: 0 4px 4px 0;
  }
  
  .submit-btn {
    margin-top: 15px;
    padding: 12px;
    background-color: #003366;
    color: white;
    font-weight: bold;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  
  .submit-btn:hover {
    background-color: #0055aa;
  }
  
  /* Floating label */
  .floating-label {
    position: relative;
    margin: 8px 0;
  }
  
  .floating-label input {
    width: 100%;
    padding: 12px;
    border: 1px solid #ccc;
    border-radius: 4px;
    outline: none;
  }
  
  .floating-label label {
    position: absolute;
    left: 10px;
    top: 14px;
    color: #999;
    background: white;
    padding: 0 4px;
    transition: 0.2s;
    pointer-events: none;
  }
  
  .floating-label input:focus + label,
  .floating-label input:not(:placeholder-shown) + label {
    top: -8px;
    font-size: 12px;
    color: #003366;
  }
  
  /* New transaction history section with responsive design */
  .transaction-history {
    margin-top: 30px;
    border-top: 1px solid #ddd;
    padding-top: 20px;
    overflow-x: auto; /* Enable horizontal scrolling on small screens */
  }
  
  .transaction-history h3 {
    text-align: center;
    margin-bottom: 15px;
    color: #003366;
  }
  
  /* Table styling with responsive design */
  .table-container {
    overflow-x: auto;
    width: 100%;
    margin-bottom: 20px;
  }
  
  table {
    width: 100%;
    border-collapse: collapse;
    min-width: 600px; /* Ensure minimum width for scrolling on mobile */
  }
  
  th, td {
    padding: 10px;
    text-align: left;
    border-bottom: 1px solid #ddd;
  }
  
  th {
    background-color: #f2f2f2;
    position: sticky;
    top: 0;
    z-index: 10;
  }
  
  tr.income {
    background-color: rgba(217, 237, 194, 0.3);
  }
  
  tr.expense {
    background-color: rgba(253, 222, 222, 0.3);
  }
  
  .summary-box {
    margin-top: 20px;
    padding: 15px;
    background-color: #f9f9f9;
    border-radius: 4px;
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap; /* Allow wrapping on smaller screens */
  }
  
  .summary-item {
    text-align: center;
    margin: 5px 0;
    flex: 1;
    min-width: 120px; /* Ensure items don't get too narrow */
  }
  
  .summary-label {
    font-weight: bold;
    color: #555;
  }
  
  .summary-value {
    font-size: 18px;
    margin-top: 5px;
  }
  
  .income-value {
    color: #4CAF50;
  }
  
  .expense-value {
    color: #f44336;
  }
  
  .balance-value {
    color: #003366;
  }
  
  /* Error message styling */
  .error-message {
    color: #f44336;
    font-size: 12px;
    margin-top: 4px;
    display: none;
  }
  
  /* Calendar styling enhancement */
  input[type="date"]::-webkit-calendar-picker-indicator {
    cursor: pointer;
    opacity: 0.6;
    transition: opacity 0.2s ease;
  }
  
  input[type="date"]::-webkit-calendar-picker-indicator:hover {
    opacity: 1;
  }
  
  /* New addition: Delete button */
  .delete-btn {
    background-color: transparent;
    color: #f44336;
    border: none;
    cursor: pointer;
    padding: 5px;
    transition: color 0.3s ease;
  }
  
  .delete-btn:hover {
    color: #d32f2f;
  }
  
  /* Loading animation for form submission */
  .loading {
    display: none;
    text-align: center;
    margin-top: 10px;
  }
  
  .loading:after {
    content: ' .';
    animation: dots 1s steps(5, end) infinite;
  }
  
  @keyframes dots {
    0%, 20% {
      color: rgba(0,0,0,0);
      text-shadow:
        .25em 0 0 rgba(0,0,0,0),
        .5em 0 0 rgba(0,0,0,0);
    }
    40% {
      color: #333;
      text-shadow:
        .25em 0 0 rgba(0,0,0,0),
        .5em 0 0 rgba(0,0,0,0);
    }
    60% {
      text-shadow:
        .25em 0 0 #333,
        .5em 0 0 rgba(0,0,0,0);
    }
    80%, 100% {
      text-shadow:
        .25em 0 0 #333,
        .5em 0 0 #333;
    }
  }
  
  /* Mobile responsive improvements */
  @media (max-width: 768px) {
    /* Adjust button padding on mobile */
    .tab {
      padding: 10px 5px;
      font-size: 14px;
    }
    
    /* Stack summary boxes on mobile */
    .summary-box {
      flex-direction: column;
    }
    
    .summary-item {
      margin: 8px 0;
      width: 100%;
    }
    
    /* Make sure table headers don't overflow */
    th {
      font-size: 14px;
      white-space: nowrap;
    }
    
    /* Alternative mobile table view */
    .mobile-table-view .transaction-row {
      display: flex;
      flex-wrap: wrap;
      padding: 10px 0;
      border-bottom: 1px solid #ddd;
    }
    
    .mobile-table-view .mobile-table-header {
      font-weight: bold;
      font-size: 12px;
      color: #777;
    }
    
    .mobile-table-view .mobile-table-cell {
      padding: 5px 0;
    }
  }
</style>

<h2>Financial Transaction Management</h2>
<div class="tabs">
  <button id="incomeTab" class="tab active" onclick="switchTab('income')">ADD / INCOME</button>
  <button id="expenseTab" class="tab" onclick="switchTab('expense')">LESS / EXPENSES</button>
</div>

<form id="transactionForm">
  <select id="category" required>
    <option value="">Select Add / Income</option>
    <option>Membership</option>
        <option>Monthly Contribution</option>
        <option>Donation/Receive From Person</option>
        <option>Salary For Officials</option>
        <option>Custom</option>
  </select>
  <div class="error-message" id="categoryError">Please select a category</div>

  <div class="input-group">
    <span class="currency-symbol">â‚±</span>
    <input type="number" id="amount" placeholder="Amount" min="0.01" step="0.01" required>
  </div>
  <div class="error-message" id="amountError">Please enter a valid amount</div>

  <!-- Floating label for Date Issued -->
  <div class="floating-label">
    <input type="date" id="dateIssued" placeholder=" " required>
    <label for="dateIssued">Date Issued</label>
  </div>
  <div class="error-message" id="dateError">Please select a date</div>

  <input type="text" id="description" placeholder="Description..." maxlength="100" required>
  <div class="error-message" id="descriptionError">Please provide a description</div>

  <button type="submit" class="submit-btn">NEW TRANSACTION</button>
  <div class="loading" id="loadingIndicator">Processing transaction</div>
</form>

<div class="transaction-history">
  <h3>Recent Transactions</h3>
  <div class="table-container">
    <table id="transactionsTable">
      <thead>
        <tr>
          <th>Date</th>
          <th>Category</th>
          <th>Description</th>
          <th>Amount</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <!-- Transactions will be displayed here -->
      </tbody>
    </table>
  </div>
  
  <div class="summary-box">
    <div class="summary-item">
      <div class="summary-label">Total Income</div>
      <div class="summary-value income-value" id="totalIncome">â‚±0.00</div>
    </div>
    <div class="summary-item">
      <div class="summary-label">Total Expenses</div>
      <div class="summary-value expense-value" id="totalExpenses">â‚±0.00</div>
    </div>
    <div class="summary-item">
      <div class="summary-label">Balance</div>
      <div class="summary-value balance-value" id="balance">â‚±0.00</div>
    </div>
  </div>
</div>

<script>
  // Data storage with localStorage
  let transactions = JSON.parse(localStorage.getItem('transactions')) || [];
  let currentType = 'income';
  
  // Initialize the page
  document.addEventListener('DOMContentLoaded', function() {
    loadTransactions();
    updateSummary();
    checkMobileView();
  });
  
  // Check for mobile view and possibly switch to alternative display
  function checkMobileView() {
    const isMobile = window.innerWidth <= 768;
    const tableContainer = document.querySelector('.table-container');
    
    if (isMobile) {
      tableContainer.classList.add('mobile-view');
    } else {
      tableContainer.classList.remove('mobile-view');
    }
  }
  
  // Listen for window resize
  window.addEventListener('resize', checkMobileView);

  function switchTab(type) {
    const incomeTab = document.getElementById('incomeTab');
    const expenseTab = document.getElementById('expenseTab');
    const category = document.getElementById('category');
    const submitBtn = document.querySelector('.submit-btn');
    
    currentType = type;

    if (type === 'income') {
      incomeTab.classList.add('active');
      expenseTab.classList.remove('active');
      submitBtn.style.backgroundColor = '#003366';
      category.innerHTML = `
        <option value="">Select Add / Income</option>
        <option>Membership</option>
        <option>Monthly Contribution</option>
        <option>Donation/Receive From Person</option>
        <option>Salary For Officials</option>
        <option>Custom</option>
      `;
    } else {
      expenseTab.classList.add('active');
      incomeTab.classList.remove('active');
      submitBtn.style.backgroundColor = '#d32f2f';
      category.innerHTML = `
        <option value="">Select Less / Expense</option>
        <option>Snacks/Foods</option>
        <option>Death Benefits</option>
        <option>Projects</option>
        <option>Traveling Allowance For Official</option>
        <option>Salary For Officials</option>
        <option>Custom</option>
      `;
    }
  }

  // Form validation
  function validateForm() {
    let isValid = true;
    const category = document.getElementById('category');
    const amount = document.getElementById('amount');
    const dateIssued = document.getElementById('dateIssued');
    const description = document.getElementById('description');
    
    // Reset error messages
    document.querySelectorAll('.error-message').forEach(el => el.style.display = 'none');
    
    // Validate category
    if (!category.value) {
      document.getElementById('categoryError').style.display = 'block';
      isValid = false;
    }
    
    // Validate amount
    if (!amount.value || parseFloat(amount.value) <= 0) {
      document.getElementById('amountError').style.display = 'block';
      isValid = false;
    }
    
    // Validate date
    if (!dateIssued.value) {
      document.getElementById('dateError').style.display = 'block';
      isValid = false;
    }
    
    // Validate description
    if (!description.value.trim()) {
      document.getElementById('descriptionError').style.display = 'block';
      isValid = false;
    }

    if (!isValid) {
      showNotification('Please fill in all fields', 'error');
    }
    
    return isValid;
  }
  
  // Format currency
  function formatCurrency(amount) {
    return 'â‚±' + parseFloat(amount).toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,');
  }
  
  // Format date to readable format
  function formatDate(dateString) {
    const date = new Date(dateString);
    return date.toLocaleDateString('en-PH', { year: 'numeric', month: 'short', day: 'numeric' });
  }
  
  // Save transaction
  function saveTransaction(transaction) {
    transactions.unshift(transaction); // Add to beginning of array
    localStorage.setItem('transactions', JSON.stringify(transactions));
    loadTransactions();
    updateSummary();
  }
  
  // Load transactions
  function loadTransactions() {
    const tbody = document.querySelector('#transactionsTable tbody');
    tbody.innerHTML = '';
    
    if (transactions.length === 0) {
      const row = document.createElement('tr');
      row.innerHTML = '<td colspan="5" style="text-align: center; padding: 20px;">No transactions recorded yet</td>';
      tbody.appendChild(row);
      return;
    }
    
    transactions.forEach((transaction, index) => {
      const row = document.createElement('tr');
      row.className = transaction.type;
      
      row.innerHTML = `
        <td>${formatDate(transaction.dateIssued)}</td>
        <td>${transaction.category}</td>
        <td>${transaction.description}</td>
        <td style="color: ${transaction.type === 'income' ? '#4CAF50' : '#f44336'}">${formatCurrency(transaction.amount)}</td>
        <td><button class="delete-btn" onclick="confirmDelete(${index})">Delete</button></td>
      `;
      
      tbody.appendChild(row);
    });
  }
  
  // Update summary
  function updateSummary() {
    const totalIncome = transactions
      .filter(t => t.type === 'income')
      .reduce((sum, t) => sum + parseFloat(t.amount), 0);
      
    const totalExpenses = transactions
      .filter(t => t.type === 'expense')
      .reduce((sum, t) => sum + parseFloat(t.amount), 0);
      
    const balance = totalIncome - totalExpenses;
    
    document.getElementById('totalIncome').textContent = formatCurrency(totalIncome);
    document.getElementById('totalExpenses').textContent = formatCurrency(totalExpenses);
    
    const balanceEl = document.getElementById('balance');
    balanceEl.textContent = formatCurrency(balance);
    balanceEl.style.color = balance >= 0 ? '#4CAF50' : '#f44336';
  }

  // Form submission
  document.getElementById('transactionForm').addEventListener('submit', function(event) {
    event.preventDefault();
    
    if (!validateForm()) {
      return;
    }
    
    const loadingIndicator = document.getElementById('loadingIndicator');
    loadingIndicator.style.display = 'block';
    
    const category = document.getElementById('category').value;
    const amount = document.getElementById('amount').value;
    const dateIssued = document.getElementById('dateIssued').value;
    const description = document.getElementById('description').value;
    
    // Simulate network delay
    setTimeout(() => {
      const transaction = {
        type: currentType,
        category,
        amount,
        dateIssued,
        description,
        timestamp: new Date().getTime()
      };
      
      saveTransaction(transaction);
      
      // Reset form and hide loading
      this.reset();
      loadingIndicator.style.display = 'none';
      
      // Create notification
      showNotification(`${currentType === 'income' ? 'Income' : 'Expense'} of ${formatCurrency(amount)} recorded successfully!`);
    }, 800);
  });
  
function showNotification(message, type = 'success') {
  const notification = document.getElementById('notification');
  notification.className = `notification ${type}`;
  notification.innerHTML = `
    <i class="fas ${type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle'}"></i>
    <span>${message}</span>
  `;
  notification.classList.add('show');
  
  setTimeout(() => {
    notification.classList.remove('show');
  }, 3000);
}
  
  // Support for keyboard navigation
  document.addEventListener('keydown', function(event) {
    if (event.key === 'Enter' && event.ctrlKey) {
      document.querySelector('.submit-btn').click();
    }
  });
</script>

<!-- Chat Widget -->
<div class="chat-widget" id="chat-widget">
    <div class="chat-bubble" id="chat-bubble">
        <i>ðŸ’¬</i>
    </div>
    
    <div class="chat-container" id="chat-container">
        <div class="chat-header">
            <div class="chat-title">
                <span class="status-indicator"></span>
                AI Assistant
            </div>
            <div class="chat-close" id="chat-close">Ã—</div>
        </div>
        
        <div class="chat-messages" id="chat-messages">
            <div class="message-container bot-container">
                <div class="message bot-message">
                    Maayong adlaw! Ako imong AI assistant. Unsay akong ikatabang nimo karon?
                </div>
                <span class="timestamp">Now</span>
            </div>
            
            <div class="typing-indicator" id="typing-indicator">
                <div class="typing-bubble"></div>
                <div class="typing-bubble"></div>
                <div class="typing-bubble"></div>
            </div>
        </div>
        
        <div class="chat-input">
            <textarea class="chat-input-field" id="chat-input-field" placeholder="I-type imong mensahe..." rows="1"></textarea>
            <button class="chat-send-btn" id="chat-send-btn">âž¤</button>
        </div>
    </div>
</div>

<div id="notification" class="notification"></div>

    
    
    
    <script src="../js/chatbot.js"></script>
    

</body>
</html>
